---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

const { title, description, image, rotation = 0 } = Astro.props;

const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/eventTrack/*.{jpeg,jpg,png,gif}"
);
---

<figure
  class="flex-shrink-0 w-[300px] lg:w-[400px] overflow-hidden border-2 border-border bg-main font-base shadow-shadow"
>
  <div class="relative aspect-video overflow-hidden">
    <Image
      src={images[`/src/assets/eventTrack/${image}`]()}
      alt={title || ""}
      class="w-full h-full object-cover"
    />
  </div>

  <figcaption
    class="border-t-2 text-main-foreground border-border p-4 space-y-3"
  >
    <h3 class="font-bold text-xl lg:text-2xl text-balance leading-tight">
      {title}
    </h3>
    <p class="text-sm lg:text-base leading-relaxed text-balance">
      {description}
    </p>
  </figcaption>
</figure>
